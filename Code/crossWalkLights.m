function cwStates = crossWalkLights% This script activates the cross walk sequence and takes inputs from the% crossWalkButtons script.% Inputs: None% Outputs: cwStates()global readyNSglobal readyEWglobal blink% Call global time.t = gtime();% Walk and Stop Valuesw = [1 0]; % walk signs = [0 1]; % stop (hand) signb = [0 0]; % both off (for blinking)% example: [nsCW, ewCW] --> [w, s]: ns is walk, ew is stop.% Timing sequenceif t < 21    if (t > 1) & (t <= 2);        readyEW = 0;        blink = 0;    end        if (t < 12) & (readyNS == 1)        cwStates = [w s]; % Outputs CW state values for diagnostic script.        digitalWrite(2:5, cwStates);        blink = 1;    elseif (t < 21) & (blink == 1)        if mod(round(t),2) == 0            cwStates = [s s];            digitalWrite(2:5,cwStates);        else            cwStates = [b s];            digitalWrite(2:5,cwStates);        end    else        cwStates = [s s];        digitalWrite(2:5, cwStates);        endelseif (t > 21) & (t < 51)    if (t > 21) & (t < 22)       readyNS = 0;       blink = 0;    end        if (readyEW == 1) & (t < 42)            % EW crosswalk on            cwStates = [s w];            digitalWrite(2:5,cwStates);            blink = 1;    elseif (blink == 1) & (t < 51)            % blink the EW crosswalk            if mod(round(t),2) == 0                cwStates = [s s];                digitalWrite(2:5,cwStates);            else                cwStates = [s b];                digitalWrite(2:5,cwStates);            end    else        cwStates = [s s];        digitalWrite(2:5, cwStates);    endelsecwStates = [b b];gtreset();end