function trafficArray = trafficLights(speed)% Controls the timing for the traffic lights.% Inputs: speed (speed multiplier for pattern)% Outputs: trafficArray (data for lights)% initialize timerglobal gtimerr = [1 0 0];y = [0 1 0];g = [0 0 1];b = [0 0 0];t = toc(gtimer)*speed;% Traffic Signal Timingif t < 15    trafficArray = [r r g g r];    shiftOut(trafficArray);elseif t >= 15 && t < 21    trafficArray = [r r y y r];    shiftOut(trafficArray);elseif t >= 21 && t < 27    trafficArray = [g g r r r];    shiftOut(trafficArray);elseif t >= 27 && t < 32    trafficArray = [y g r r r];    shiftOut(trafficArray);elseif t >= 32 && t < 45    trafficArray = [r g r r g];    shiftOut(trafficArray);elseif t >= 45 && t < 50    trafficArray = [r y r r y];    shiftOut(trafficArray);else    trafficArray = [b b b b b]    gtreset() % If greater than 50, it  resets the time.endend %End of full function