function trafficArray = trafficLights()% Controls the timing for the traffic lights.% Inputs: speed (speed multiplier for pattern)% Outputs: trafficArray (data for lights)% initialize timerr = [1 0 0];y = [0 1 0];g = [0 0 1];b = [0 0 0];t = gtime(); % Call global time.global TLAseq % Call Global Turn Lane Variablesglobal TLCseq% Traffic Signal Timingif t < 15    if TLCseq == 1        trafficArray = [r r g g r];        shiftOut(trafficArray);    else        trafficArray = [r r r g r];        shiftOut(trafficArray);    endelseif t >= 15 && t < 21    if TLCseq == 1        trafficArray = [r r y y r];        shiftOut(trafficArray);    else        trafficArray = [r r r y r];        shiftOut(trafficArray);    endelseif t >= 21 && t < 27    TLCseq = 0;    if TLAseq == 1        trafficArray = [g g r r r];        shiftOut(trafficArray);    else        trafficArray = [r g r r g];        shiftOut(trafficArray);    endelseif t >= 27 && t < 33    if TLAseq == 1      trafficArray = [y g r r r];      shiftOut(trafficArray);    else      trafficArray = [r g r r g];      shiftOut(trafficArray);    endelseif t >= 33 && t < 45    TLAseq = 0;    trafficArray = [r g r r g];    shiftOut(trafficArray);elseif t >= 45 && t < 51    trafficArray = [r y r r y];    shiftOut(trafficArray);elseif t >= 51    trafficArray = [b b b b b]    gtreset() % If greater than 50, it  resets the time.else    trafficArray = [b b b b b];    shiftOut(trafficArray);endend %End of full function